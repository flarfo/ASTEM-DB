<Window
    x:Class="ASTEM_DB.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:ASTEM_DB.ViewModels"
    Title="ASTEM DB"
    d:DesignHeight="700"
    d:DesignWidth="1000"
    x:DataType="vm:MainWindowViewModel"
    Icon="/Assets/avalonia-logo.ico"
    mc:Ignorable="d">

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>
    <Grid ColumnDefinitions="325,*" RowDefinitions="*">
        <!--  Left Sidebar  -->
        <Border
            Grid.Column="0"
            Background="#F0F0F0"
            BorderBrush="#E0E0E0"
            BorderThickness="0,0,1,0"
            CornerRadius="0">
            <TabControl Margin="10" SelectedIndex="0">
                <TabItem
                    FontSize="20"
                    FontWeight="DemiBold"
                    Header="Color">
                    <StackPanel Margin="10" Spacing="10">
                        <!--  Color Picker UI  -->
                        <Grid
                            Margin="0,10,0,0"
                            ColumnDefinitions="Auto,*,Auto"
                            RowDefinitions="Auto,Auto,Auto,Auto,Auto">
                            <!--  Color Circle  -->
                            <Border
                                Grid.ColumnSpan="3"
                                Width="150"
                                Height="150"
                                Margin="0,0,0,10"
                                HorizontalAlignment="Center"
                                Background="{Binding HexColor}"
                                BorderBrush="Black"
                                BorderThickness="1"
                                CornerRadius="75" />
                            <TextBlock
                                Grid.Row="1"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Text="HEX" />
                            <TextBox
                                Grid.Row="1"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                HorizontalAlignment="Stretch"
                                Text="{Binding HexColor}"
                                Watermark="e.g. #9B59B6" />

                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Text="R" />
                            <Slider
                                Grid.Row="2"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                HorizontalAlignment="Stretch"
                                Maximum="255"
                                Minimum="0"
                                Value="{Binding Red}" />
                            <TextBlock
                                Grid.Row="2"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding Red}" />

                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Text="G" />
                            <Slider
                                Grid.Row="3"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                HorizontalAlignment="Stretch"
                                Maximum="255"
                                Minimum="0"
                                Value="{Binding Green}" />
                            <TextBlock
                                Grid.Row="3"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding Green}" />

                            <TextBlock
                                Grid.Row="4"
                                Grid.Column="0"
                                VerticalAlignment="Center"
                                Text="B" />
                            <Slider
                                Grid.Row="4"
                                Grid.Column="1"
                                Margin="5,0,0,0"
                                HorizontalAlignment="Stretch"
                                Maximum="255"
                                Minimum="0"
                                Value="{Binding Blue}" />
                            <TextBlock
                                Grid.Row="4"
                                Grid.Column="2"
                                Margin="5,0,0,0"
                                VerticalAlignment="Center"
                                Text="{Binding Blue}" />
                        </Grid>
                    </StackPanel>
                </TabItem>
                <TabItem
                    FontSize="20"
                    FontWeight="DemiBold"
                    Header="Properties">
                    <StackPanel Margin="10" Spacing="5">
                        <TextBlock Margin="0,0,0,0" Text="Glaze Type" />
                        <ComboBox Width="150">
                            <ComboBoxItem Content="Matte" />
                            <ComboBoxItem Content="Glossy" />
                        </ComboBox>
                        <TextBlock Margin="0,0,0,0" Text="Surface Condition" />
                        <ComboBox Width="150">
                            <ComboBoxItem Content="Rough" />
                            <ComboBoxItem Content="Smooth" />
                        </ComboBox>
                        <TextBlock Margin="0,0,0,0" Text="Firing Atmosphere" />
                        <ComboBox Width="150">
                            <ComboBoxItem Content="OF" />
                            <ComboBoxItem Content="RF" />
                        </ComboBox>
                    </StackPanel>
                </TabItem>
                <TabItem
                    FontSize="20"
                    FontWeight="DemiBold"
                    Header="Misc.">
                    <TextBlock Margin="10" Text="Miscellaneous content goes here." />
                </TabItem>
            </TabControl>
        </Border>

        <!--  Main Content Area  -->
        <Grid
            Grid.Column="1"
            Margin="20"
            RowDefinitions="*,Auto">
            <!--  Image Grid  -->
            <ScrollViewer Margin="0,40,0,0" VerticalScrollBarVisibility="Auto">

                <ItemsControl Grid.Row="0" ItemsSource="{Binding CardItems}">
                    <ItemsControl.ItemsPanel>
                        <ItemsPanelTemplate>
                            <!--  Removed Spacing attribute from WrapPanel  -->
                            <WrapPanel
                                HorizontalAlignment="Left"
                                VerticalAlignment="Top"
                                Orientation="Horizontal" />
                        </ItemsPanelTemplate>
                    </ItemsControl.ItemsPanel>
                    <ItemsControl.ItemTemplate>
                        <DataTemplate DataType="vm:CardItemViewModel">
                            <!--  Added Margin to the Border for spacing between items  -->
                            <Border
                                Width="150"
                                Height="150"
                                Margin="0,0,15,15"
                                Background="#F8F8F8"
                                BorderBrush="#E0E0E0"
                                BorderThickness="1"
                                CornerRadius="8">
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                    <!--  Placeholder for image  -->
                                    <Border
                                        Width="80"
                                        Height="80"
                                        Margin="0,0,0,10"
                                        Background="#E0E0E0"
                                        CornerRadius="5">
                                        <Path
                                            Margin="20"
                                            Data="M 10 10 L 140 140 M 140 10 L 10 140"
                                            Stretch="Uniform"
                                            Stroke="#A0A0A0"
                                            StrokeThickness="2" />
                                    </Border>
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        Foreground="#333333"
                                        Text="{Binding Id}" />
                                </StackPanel>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
            <!--  Sort  -->
            <StackPanel
                Grid.Row="1"
                Margin="0,20,0,0"
                HorizontalAlignment="Left"
                Orientation="Horizontal"
                Spacing="20">
                <CheckBox
                    Command="{Binding SortCommand}"
                    Content="Sort by Name"
                    IsChecked="{Binding SortByNameChecked}">
                    <CheckBox.ContentTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Vertical">
                                <TextBlock VerticalAlignment="Center" Text="Sort by Name" />
                                <TextBlock
                                    FontSize="10"
                                    Opacity="0.7"
                                    Text="A-Z" />
                            </StackPanel>
                        </DataTemplate>
                    </CheckBox.ContentTemplate>
                </CheckBox>
            </StackPanel>
        </Grid>
    </Grid>

</Window>
